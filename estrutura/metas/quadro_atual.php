<?php 

require_once './classes/usuarios.php';
$u = new usuario;

?>

<script src="https://kit.fontawesome.com/a80650ecc6.js" crossorigin="anonymous"></script>
<script src="js/jquery-2.1.3.js"></script>
<script src="js/mascaras.js"></script>
<script src="/js/swalert.js"></script>
<script>

$("#cpf").mask("000.000.000-00");
$("#data").mask("00/00/0000");
$("#rg").mask("000.000.000.000-00");
$("#cep").mask("00000-000");
$("#celular").mask("(00)00000-0000");
$("#celular2").mask("(00)00000-0000");

</script>

<style>
.ladoalado {
    display: flex;
}
</style>


            <div class="detalhes">
                <div class="recentesobs"  style="background-color: rgb(19 103 182); border: none;">
                <span>MAGNATAS</span>
    
                    <!-- metas -->
                    <div class="cardheader" >
                            <table>
                                <thead>
                                    <th>METAS</th>
                                    <th>Janeiro</th>
                                    <th>Fevereiro</th>
                                    <th>Março</th>
                                    <th>Abril</th>
                                    <th>Maio</th>
                                    <th>Junho</th>
                                    <th>Julho</th>
                                    <th>Agosto</th>
                                    <th>Setembro</th>
                                    <th>Outubro</th>
                                    <th>Novembro</th>
                                    <th>Dezembro</th>
                                </thead>
                                <!-- cobrança -->
                                <tbody>
                                    <th>Cobrança</th>
                                    <th><span class="status i">NÃO</span></th> 
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status a">SIM</span></th>
                                    <th><span class="status a">SIM</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                </tbody>
                                <!-- Crescimento -->
                                <tbody>
                                    <th>Crescimento</th>
                                    <th><span class="status i">NÃO</span></th> 
                                    <th><span class="status a">SIM</span></th>
                                    <th><span class="status a">SIM</span></th>
                                    <th><span class="status a">SIM</span></th>
                                    <th><span class="status a">SIM</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                </tbody>
                                <!-- MIGRAÇÃO	 -->
                                <tbody>
                                    <th>Migração</th>
                                    <th><span class="status i">NÃO</span></th> 
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                </tbody>
                                <!-- Resgate	 -->
                                <tbody>
                                    <th>Resgate</th>
                                    <th><span class="status a">SIM</span></th> 
                                    <th><span class="status a">SIM</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                </tbody>
                                <!-- Reclamação	 -->
                                <tbody>
                                    <th>Reclamação</th>
                                    <th><span class="status i">NÃO</span></th> 
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                </tbody>
                            </table>
                    </div>


                </div>
                

<!-- fim do sccript -->
            </div>

             <!--detalhe-->
             <div class="detalhes"> 
                <div class="recentesobs" style=" border: none;">
                <span>VISIONÁRIOS</span>
                    <div class="cardheader" >
                    <table>
                                <thead>
                                    <th>METAS</th>
                                    <th>Janeiro</th>
                                    <th>Fevereiro</th>
                                    <th>Março</th>
                                    <th>Abril</th>
                                    <th>Maio</th>
                                    <th>Junho</th>
                                    <th>Julho</th>
                                    <th>Agosto</th>
                                    <th>Setembro</th>
                                    <th>Outubro</th>
                                    <th>Novembro</th>
                                    <th>Dezembro</th>
                                </thead>
                                <!-- cobrança -->
                                <tbody>
                                    <th>Cobrança</th>
                                    <th><span class="status i">NÃO</span></th> 
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status a">SIM+</span></th>
                                    <th><span class="status a">SIM+</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status a">SIM+</span></th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th> 
                                </tbody>
                                <!-- Crescimento -->
                                <tbody>
                                    <th>Crescimento</th>
                                    <th><span class="status i">NÃO</span></th> 
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                </tbody>
                                <!-- MIGRAÇÃO	 -->
                                <tbody>
                                    <th>Migração</th>
                                    <th><span class="status i">NÃO</span></th> 
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                </tbody>
                                <!-- Resgate	 -->
                                <tbody>
                                    <th>Resgate</th>
                                    <th><span class="status i">NÃO</span></th> 
                                    <th><span class="status a">SIM+</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status a">SIM+</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status a">SIM+</span></th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                </tbody>
                                <!-- Reclamação	 -->
                                <tbody>
                                    <th>Reclamação</th>
                                    <th><span class="status a">SIM+</span></th> 
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th><span class="status i">NÃO</span></th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                    <th>-</th>
                                </tbody>
                            </table>
                    </div>
                    <!-- metas -->


                </div>
                

<!-- fim do sccript -->
            </div>
            <div class="ladoalado">
            <!--detalhe-->
            <?php
            $year = date('Y');


            ?>
            <div class="detalhes">
                <div class="recentesobs" style="background-color: #0fc908; border: none;">
                <span>MELHORES DO ANO <?=$year?> </span>
    
                    <!-- metas -->
                    <div class="cardheader" >
                            <table>
                                <thead>
                                    <th>CÓDIGO</th>
                                    <th>MÊS</th>
                                    <th>COLABORADOR</th>
                                    <th>PONTOS</th>
                                </thead>
                                <!-- JANEIRO -->
                                <tbody>
                                    <tr>
                                    <?php 
                                        $janeiro = $pdo->prepare("SELECT total, func FROM func_mes WHERE ano = $year AND mes = 1 ORDER BY total desc limit 1");
                                        $janeiro->execute();
                                            while($rjan = $janeiro->fetch(PDO::FETCH_ASSOC)){?> 
                                    <th>01</th>
                                    <th>JANEIRO</th> 
                                    <?php 
                                        $u_jan = $pdo->prepare("SELECT nome FROM usuarios WHERE id = $rjan[func]");
                                        $u_jan->execute();
                                            while($rujan = $u_jan->fetch(PDO::FETCH_ASSOC)){
                                                $res = $rujan['nome'];
                                        }

                                        $primeironome = explode(" ", $res);
                                        //SELECIONA O PRIMEIRO E ULTIMO NOME DA PESSOA
                                    
                                       $nomej .= current($primeironome);
                                       $nomej .= " ";
                                       $nomej .= end($primeironome);
                                        
                                    ?>
                                    <th><?=$nomej?></th>
                                    <th><span class="status inst"><?=$rjan['total']?></span></th>
                                    <?php } ?>
                                    </tr>
                                <!-- fevereiro -->
                                    <tr>
                                    <?php 
                                        $fevereiro = $pdo->prepare("SELECT total, func FROM func_mes WHERE ano = $year AND mes = 2 ORDER BY total desc limit 1");
                                        $fevereiro->execute();
                                            while($rfev = $fevereiro->fetch(PDO::FETCH_ASSOC)){?> 
                                    <th>02</th>
                                    <th>FEVEREIRO</th> 
                                    <?php 
                                        $u_fev = $pdo->prepare("SELECT nome FROM usuarios WHERE id = $rfev[func]");
                                        $u_fev->execute();
                                            while($rufev = $u_fev->fetch(PDO::FETCH_ASSOC)){
                                                $res = $rufev['nome'];
                                        }

                                        $primeironome = explode(" ", $res);
                                        //SELECIONA O PRIMEIRO E ULTIMO NOME DA PESSOA
                                    
                                       $nomef .= current($primeironome);
                                       $nomef .= " ";
                                       $nomef .= end($primeironome);
                                        
                                    ?>
                                    <th><?=$nomef?></th>
                                    <th><span class="status inst"><?=$rfev['total']?></span></th>
                                    <?php } ?>
                                    </tr>
                                
                                <!-- MARÇO -->
                                    <tr>    
                                    <?php 
                                        $marco = $pdo->prepare("SELECT total, func FROM func_mes WHERE ano = $year AND mes = 3 ORDER BY total desc limit 1");
                                        $marco->execute();
                                            while($rfev = $marco->fetch(PDO::FETCH_ASSOC)){?> 
                                    <th>03</th>
                                    <th>MARÇO</th> 
                                    <?php 
                                        $u_marco = $pdo->prepare("SELECT nome FROM usuarios WHERE id = $rfev[func]");
                                        $u_marco->execute();
                                            while($rumarc = $u_marco->fetch(PDO::FETCH_ASSOC)){
                                                $res = $rumarc['nome'];
                                        }

                                        $primeironome = explode(" ", $res);
                                        //SELECIONA O PRIMEIRO E ULTIMO NOME DA PESSOA
                                    
                                       $nomema .= current($primeironome);
                                       $nomema .= " ";
                                       $nomema .= end($primeironome);
                                        
                                    ?>
                                    <th><?=$nomema?></th>
                                    <th><span class="status inst"><?=$rfev['total']?></span></th>
                                    <?php } ?>
                                    </tr>
                                <!-- ABRIL -->
                                <tr>
                                <?php 
                                        $abril = $pdo->prepare("SELECT total, func FROM func_mes WHERE ano = $year AND mes = 4  ORDER BY total desc limit 1");
                                        $abril->execute();
                                            while($rabril = $abril->fetch(PDO::FETCH_ASSOC)){?> 
                                    <th>04</th>
                                    <th>ABRIL</th> 
                                    <?php 
                                        $u_abril = $pdo->prepare("SELECT nome FROM usuarios WHERE id = $rabril[func]");
                                        $u_abril->execute();
                                            while($ruabril = $u_abril->fetch(PDO::FETCH_ASSOC)){
                                                $res = $ruabril['nome'];
                                        }

                                        $primeironome = explode(" ", $res);
                                        //SELECIONA O PRIMEIRO E ULTIMO NOME DA PESSOA
                                    
                                       $nomeabr .= current($primeironome);
                                       $nomeabr .= " ";
                                       $nomeabr .= end($primeironome);
                                        
                                    ?>
                                    <th><?=$nomeabr?></th>
                                    <th><span class="status inst"><?=$rabril['total']?></span></th>
                                    <?php } ?>
                                <!-- MAIO -->
                                <tr>    
                                    <th>05</th>
                                    <th>MAIO</th> 
                                    <th>Jeferson Oliveira</th>
                                    <th><span class="status inst" >63</span></th>
                                    </tr>
                                <!-- JUNHO -->
                                <tr>
                                    <th>06</th>
                                    <th>JUNHO</th> 
                                    <th>Jeferson Oliveira</th>
                                    <th><span class="status inst" >61</span></th>
                                    </tr>
                                <!-- JULHO -->
                                <tbody>
                                    <th>07</th>
                                    <th>JULHO</th> 
                                    <th>Jeferson Oliveira</th>
                                    <th><span class="status a" title="Recorde">68</span></th>
                                </tbody>
                                <!-- AGOSTO -->
                                <tbody>
                                    <th>08</th>
                                    <th>AGOSTO</th> 
                                    <th>Jeferson Oliveira</th>
                                    <th><span class="status inst" >66</span></th>
                                </tbody>
                                <!-- SETEMBRO -->
                                <tbody>
                                    <th>09</th>
                                    <th>SETEMBRO</th> 
                                    <th>Jeferson Oliveira</th>
                                    <th><span class="status inst" >56</span></th>
                                </tbody>
                                <!-- OUTUBRO -->
                                <tbody>
                                    <th>10</th>
                                    <th>OUTUBRO</th> 
                                    <th>Railson Felipe</th>
                                    <th><span class="status inst" >50</span></th>
                                </tbody>
                                <!-- AGOSTO -->
                                <tbody>
                                    <th>11</th>
                                    <th>NOVEMBRO</th> 
                                    <th>Francisca Siliveira</th>
                                    <th><span class="status inst" >46</span></th>
                                </tbody>
                                <!-- JULHO -->
                                <tbody>
                                    <th>12</th>
                                    <th>DEZEMBRO</th> 
                                    <th>-</th>
                                    <th><span class="status inst" >--</span></th>
                                </tbody>
                                
                            </table>
                    </div>


                </div>

            </div>
            
            <!--detalhe-->
            <div class="detalhes">
                <div class="recentesobs" style="background-color: #cc0025; border: none;">
                <span>LANTERNINHAS ANO <?=$year?> </span>
    
                    <!-- metas -->
                    <div class="cardheader" >
                            <table>
                                <thead>
                                    <th>CÓDIGO</th>
                                    <th>MÊS</th>
                                    <th>COLABORADOR</th>
                                    <th>PONTOS</th>
                                </thead>
                                <!-- JANEIRO -->
                                <tbody>
                                    <th>01</th>
                                    <th>JANEIRO</th> 
                                    <th>Wedeson Sobral</th>
                                    <th><span class="status inst">15</span></th>
                                </tbody>
                                <!-- FEVEREIRO -->
                                <tbody>
                                    <th>02</th>
                                    <th>FEVEREIRO</th> 
                                    <th>Valéria Coutinho</th>
                                    <th><span class="status inst">16</span></th>
                                </tbody>
                                <!-- MARÇO -->
                                <tbody>
                                    <th>03</th>
                                    <th>MARÇO</th> 
                                    <th>Cleiton Costa</th>
                                    <th><span class="status inst" >07</span></th>
                                </tbody>
                                <!-- ABRIL -->
                                <tbody>
                                    <th>04</th>
                                    <th>ABRIL</th> 
                                    <th>Cleiton Costa</th>
                                    <th><span class="status i" title="Recorde">02</span></th>
                                </tbody>
                                <!-- MAIO -->
                                <tbody>
                                    <th>05</th>
                                    <th>MAIO</th> 
                                    <th>Adriano dos Santos</th>
                                    <th><span class="status inst" >09</span></th>
                                </tbody>
                                <!-- JUNHO -->
                                <tbody>
                                    <th>06</th>
                                    <th>JUNHO</th> 
                                    <th>Adriano dos Santos</th>
                                    <th><span class="status inst" >11</span></th>
                                </tbody>
                                <!-- JULHO -->
                                <tbody>
                                    <th>07</th>
                                    <th>JULHO</th> 
                                    <th>Joyce Martins</th>
                                    <th><span class="status inst" >13</span></th>
                                </tbody>
                                <!-- AGOSTO -->
                                <tbody>
                                    <th>08</th>
                                    <th>AGOSTO</th> 
                                    <th>Valéria Coutinho</th>
                                    <th><span class="status inst" >13</span></th>
                                </tbody>
                                <!-- SETEMBRO -->
                                <tbody>
                                    <th>09</th>
                                    <th>SETEMBRO</th> 
                                    <th>Heloi Jaime</th>
                                    <th><span class="status inst" >08</span></th>
                                </tbody>
                                <!-- OUTUBRO -->
                                <tbody>
                                    <th>10</th>
                                    <th>OUTUBRO</th> 
                                    <th>Wedeson Sobral</th>
                                    <th><span class="status inst" >07</span></th>
                                </tbody>
                                <!-- AGOSTO -->
                                <tbody>
                                    <th>11</th>
                                    <th>NOVEMBRO</th> 
                                    <th>Adriano dos Santos</th>
                                    <th><span class="status inst" >12</span></th>
                                </tbody>
                                <!-- JULHO -->
                                <tbody>
                                    <th>12</th>
                                    <th>DEZEMBRO</th> 
                                    <th>-</th>
                                    <th><span class="status inst" >--</span></th>
                                </tbody>
                                
                            </table>
                    </div>


                </div>

            </div>
            <!--detalhe-->
</div>
<style>
.cardheader{
    background: white;
    border-radius: 5px;
    overflow: auto;
    }
.cardheader table thead th {
    color: black;
    padding: 3px;
    font-size: small;
}
.cardheader table tbody th {
    color: black;
    padding: 3px;
    border-bottom: 1px solid black;
    font-size: small;
}
.detalhes .recentesobs .cardheader table tbody tr:hover{
    background: white;
    color: white;
}
#att {
    position: relative;
    padding: 5px 10px;
    background: white;
    color: black;
    cursor: pointer;
    text-decoration: none;
}
input[type="submit"]{
    display: none;
}
.form {
    margin: 10px 0 0 0;
    background: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    outline: none;
    padding: 5px;
    width: 100%;
}
.textarea {
    margin: 10px 0 0 0;
    background: white;
    border: none;
    resize: none;
    cursor: pointer;
    border-radius: 5px;
    outline: none;
    padding: 5px;
    width: 100%;
}

.cardheader h2 {
    color: white;
}
.cardbox {
    padding: 10px;
}
.detalhes {
    position: relative;
    width: 100%;
    padding: 10px;
    padding-top: 0;
    display: grid;
    grid-gap: 20px;
    grid-template-columns: 1fr;
}
.detalhes .recentesobs {
    position: relative;
    height: auto;
    justify-content: center;
    text-align: center;
    min-height: auto;
    color: white;
    background: indigo;
    padding: 6px;
    margin-top: 20px;
    margin-bottom: -20px;
}
select {
    outline: none;
}
.sexo {
        width: 100%;
        background: white;
        padding: 4.5px;
        border-radius: 5px;
        margin: 9.5px 0px 1px 3px;
        border: none;
    }
.cidade {
    width: 100%;
    background: white;
    cursor: pointer;
    border-radius: 5px;
    padding: 4.5px;
    margin: 9.5px 0px 1px 0px;
    border: none;
}
@media (max-width: 480px) 
{
    .form {
    margin: 10px 0 0 0;
    background: white;
    border: none;
    cursor: pointer;
    height: 40px;
    border-radius: 5px;
    outline: none;
    padding: 5px;
    width: 100%;
    }
    .ladoalado {
        display: grid;
    }
    .cidade {
    width: 100%;
    background: white;
    cursor: pointer;
    height: 40px;
    border-radius: 5px;
    padding: 4.5px;
    margin: 9.5px 0px 1px 0px;
    border: none;
    }
}

</style>
